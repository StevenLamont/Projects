(function(){function C(b){var a="";$(b).prop("options")&&$(b).prop("selectedOptions")&&$(b).prop("options").length===$(b).prop("selectedOptions").length?a="ALL":null!==$(b).val()&&$.each($(b).val(),function(b,e){a+=0<b?",":"";a+=e});return a}function D(b,a,d,e){$(b).parent().find("option:selected").length<e&&(bootbox.alert("You must select at least "+e+" of the options."),$(b).parent().multiselect("select",$(b).val()))}function E(b){return b.replace(/(?:^|\s)\w/g,function(a){return a.toUpperCase()}).split(/(?=[A-Z])/).join(" ")}
function Q(b){if(null!==b){F(b.currentAlpha);p=b.pageNo;$("#PageNo").html(p);$("#numberPageSelection").bootpag({page:p});w=b.NextRow;x=b.rowsPerPage;var a=$("#pageSize");a.multiselect("select",x);a.multiselect("refresh");q=b.selectedReport;$(".lrCats").parent().removeClass("active");$("#"+q).parent().addClass("active");Object.keys(b.filters).sort().forEach(function(a,e,c){e=$("#"+a);e.hasClass("columnCheckBox")?e.prop("checked",!0):e.hasClass("columnSelect")?(e.val(b.filters[a]),e.multiselect("refresh")):
e.val(b.filters[a])})}A()}function F(b){">"===b?b="Z"!==t?"0"==t?"A":String.fromCharCode(t.charCodeAt()+1):t:"<"===b&&(b="0"!=t?String.fromCharCode(t.charCodeAt()-1):t);t="@"===b?"0":b;$(".alphaIdx").parent().removeClass("active");$("#alpha-"+t).addClass("active")}function R(){for(var b=u[q].Cols,a="<tr id='SubjectMatterListingHdr'>",d=0;d<b.length;d++)a+="<th class='"+b[d].cls+"' style='"+b[d].style+"' id='"+b[d].column+"'><label class='colHdr control-label' ",b[d].title&&(a+="title='"+b[d].title+
"'"),a+=">"+b[d].label+"</label> </th>";a+="</tr>";$("#lobbytable").find("thead").html(a).trigger("update")}function S(){var b=$("#searchString").val(),a={searchStr:[],searchRegex:[]};if(0<b.length)for(var b=b.split(" "),d=0;d<b.length;d++)a.searchStr.push(b[d]),a.searchRegex.push(new RegExp("(.*?)("+b[d]+")(.*)","ig"));a.SubjectMatterNumSearch=$("#subjectMatterNumSearch").val();a.LobbyistNameSearch=$("#lobbyistNameSearch").val();a.LobbyistTypes=C("#lobbyistTypeFilter");a.SMStatuses=C("#statusFilter");
a.SMSearch=$("#subjectMatterFilter").val();a.ClientSearch=$("#clientSearch").val();a.BeneficiarySearch=$("#beneficiarySearch").val();a.GovAgencySearch=$("#govAgencySearch").val();a.FinancialContributorSearch=$("#financialContributorSearch").val();a.POHSearch=$("#pohSearch").val();a.GrassRootsChk=$("#grassRootsInd").is(":checked")?!0:!1;a.CommitteeChk=$("#committeeInd").is(":checked")?!0:!1;a.DateFrom=moment($("#dateFrom").val());a.DateTo=moment($("#dateTo").val());a.POHNameSearch=$("#pohNameSearch").val();
a.POHPositionSearch=$("#pohPositionSearch").val();a.POHOfficeSearch=$("#pohOfficeSearch").val();a.POHTypes=C("#pohTypeFilter");a.BusOrgNameSearch=$("#busOrgNameSearch").val();a.startIdx=w;a.endIdx=w+x;return a}function f(b){return String(b).replace(/[&<>"'\/]/g,function(a){return T[a]})}function n(b,a){if(0===a.searchRegex.length)return b;for(var d=null,e=b,c=0;c<a.searchRegex.length;c++){for(var f=e,e="";null!==(d=a.searchRegex[c].exec(f));)e+=d[1]+'<span class="searchHighlight">'+d[2]+"</span>",
f=d[3];e+=f}return e}function U(){$.ajax({type:"GET",url:B+"/LobbyistRegistryRestWeb/disclosure/subjectMatter/Category/*?callback=?",crossDomain:!0,dataType:"jsonp",success:function(b){b=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:b});$("#subjectMatterFilter").typeahead({hint:!0,highlight:!0,minLength:1},{name:"matters",source:b,limit:50})},error:function(b,a,d){console.log(b.status);console.log(d)}})}function I(b,a,d){var e=
document.location,e=e+(0===document.location.hostname.length?"?":"&"),e=e+(b+"="+a+"&"+b+"Id="+d);b=$("#searchString");e+=""!==b.val()?"&searchStr="+b.val():"";window.location.href=e;return!1}function J(){$(".columnSearch").each(function(a){this.value=""});$(".columnCheckBox").each(function(a){this.checked=!1});$(".columnSelect").each(function(a){a=$("#"+this.id);a.multiselect("selectAll",!1);a.multiselect("refresh")});$(".datepicker").each(function(a){this.value=""});$("#searchBtn").show();$("#advSearchBtnGroup").show();
$("#advSearchString").hide();var b=$("#searchString");b.val("");b.prop("disabled",!1);b.show();A()}function A(){var b=!1,a=!1,d="";y={};var e="";$(".columnSearch").each(function(a){null!==this.id&&null!==this.value&&0<this.value.length&&(y[this.id]=this.value,a=this.id.replace("Search","").replace("Filter",""),d+=E(a)+" : "+this.value+"<br>",e+="&"+a+"="+this.value,b=!0)});$(".columnCheckBox").each(function(a){null!==this.id&&this.checked&&(y[this.id]=this.checked,a=this.id.replace("Ind",""),d+=$(this).prev().text()+
" : "+this.checked+"<br>",e+="&"+a+"=true",b=!0)});$(".columnSelect").each(function(a){if(null!==this.id&&this.selectedOptions&&this.selectedOptions.length!=this.options.length){d+=E(this.id).replace("Filter","")+" : ";a="";for(var c=0;c<this.selectedOptions.length;c++)d+=this.selectedOptions[c].label+", ",a+=this.selectedOptions[c].value+",",e+="&"+this.selectedOptions[c].value+"=true";d=d.slice(0,-2);a=a.slice(0,-1);y[this.id]=a;d+="<br>";b=!0}});$(".datepicker").each(function(a){null!==this.id&&
0<this.value.length&&(y[this.id]=this.value,d+=E(this.id)+" : "+this.value+"<br>",e+="&"+this.id+"="+this.value,b=!0)});var c=$("#searchString");0<c.val().length?(a=!0,y.searchString=c.val(),e+="&keyword="+c.val(),$("#advSearchBtnGroup").hide()):$("#advSearchBtnGroup").show();var f=$("#advSearchString");f.val(d.replace(/<br>/g," ; ").slice(0,-3));$("#lrServiceBar").tooltip("hide").attr("data-original-title",d).tooltip("fixTitle").tooltip("show");b||a?$("#advSearchResetGroup").show():$("#advSearchResetGroup").hide();
b?(c.hide(),$("#searchBtn").hide(),f.show()):(c.show(),$("#searchBtn").show(),f.hide());return e}function W(b){""===b&&(b+="<tr id='nowRows'><td colspan='25'>No Rows Selected</td></tr>");$("#lobbytable").find("tbody").html(b).trigger("update");$("#listLoader").modal("hide");"undefined"!==typeof Storage&&localStorage.setItem("LobbyistDisclosure",JSON.stringify({pageNo:p,currentAlpha:t,nextRow:w,rowsPerPage:x,selectedReport:q,filters:y}))}function X(b){var a="",d=0,e=S();0<r.totalSize&&null!==r.searchResultVOs&&
$.each(r.searchResultVOs,function(b,h){d++;var V=a,k,l=u[q].Cols;k=""+('<tr id="lrRow'+d+'">');for(var g=0;g<l.length;g++)switch(l[g].column){case "SMLLobbyist":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.lobbyistName),e)+"</td>";break;case "SMLLobbyistNames":for(var m='<td class="'+l[g].cls+'" style="'+l[g].style+'">',p=f(h.lobbyistList).split(","),t="",r=0;r<p.length;r++)t=0===r?"<b>"+p[0]+"</b>":t+(", "+p[r]);k+=m+n(t,e)+"</td>";break;case "SMLPOHName":k+='<td class="'+l[g].cls+
'" style="'+l[g].style+'">'+n(f(h.pohName),e)+"</td>";break;case "SMLPOHNameTitle":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.pohNameOrTitle),e)+"</td>";break;case "SMLPOHPosition":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.posPosition),e)+"</td>";break;case "SMLPOHType":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.pohType),e)+"</td>";break;case "SMLFinContributor":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.financialContributor),e)+
"</td>";break;case "SMLFinContributors":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.financialContributors.join(", ")),e)+"</td>";break;case "SMLLobbyistType":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+f(h.lobbyistType)+"</td>";break;case "SMLBeneficiary":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.beneficiaryName),e)+"</td>";break;case "SMLBeneficiaries":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.beneficiaries.join(", ")),e)+"</td>";break;
case "SMLBusOrg":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.businessOrganization),e)+"</td>";break;case "SMLClient":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.client),e)+"</td>";break;case "SMLSubjectMatter":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.subjectMatter).replace(";","; "),e)+"</td>";break;case "SMLStatus":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.status),e)+"</td>";break;case "SMLInitFileDate":k+='<td class="'+l[g].cls+
'" style="'+l[g].style+'">'+n(f(h.InitialApprovalDate),e)+"</td>";break;case "SMLCommMethod":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.communicationMethod),e)+"</td>";break;case "SMLCommDate":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.communicationDate),e)+"</td>";break;case "SMLRequestMeeting":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.requestMeeting),e)+"</td>";break;case "SMLResultOfMeetingRequest":k+='<td class="'+l[g].cls+'" style="'+l[g].style+
'">'+n(f(h.resultOfMeetingRequest),e)+"</td>";break;case "SMLDateOfRequest":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'">'+n(f(h.dateOfRequest),e)+"</td>";break;case "SMLSubjectMatterNo":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'"><button class="showSM" title="click to see details"  data-smno="'+f(h.subjectMatterNumber)+'" data-smid="'+h.subjectMatterId+'">'+n(h.subjectMatterNumber,e)+"</button></td>";break;case "SMLLobRegNo":k+='<td class="'+l[g].cls+'" style="'+l[g].style+'"><button class="showLR" title="click to see details" data-lrno="'+
f(h.lobbyistRegistrationNumber)+'" data-lrid="'+h.lobbyistRegistrationId+'">'+n(h.lobbyistRegistrationNumber,e)+"</button></td>"}a=V+(k+"</tr>")});R();W(a);Y(r.totalPages,r.totalSize,b)}function Z(b,a){$.ajax({type:"GET",url:b,crossDomain:!0,dataType:"jsonp",timeout:6E4,success:function(b){r=b;X(a)},error:function(a,b,c){console.log(a.status);console.log(c);$("#lobbytable").find("tbody").html("<tr id='nowRows'><td colspan='25'>No Rows Selected</td></tr>").trigger("update");$("#PageStatus").hide();
$("#listLoader").modal("hide")},complete:function(a,b,c){$("#listLoader").modal("hide");200!==a.status&&bootbox.alert("An error has occured. Please try again.")}})}function aa(){$("#statusFilter").multiselect({onChange:function(b,a,d){D(b,a,d,1)}});$("#pohTypeFilter").multiselect({onChange:function(b,a,d){D(b,a,d,1)},numberDisplayed:1});$("#lobbyistTypeFilter").multiselect({onChange:function(b,a,d){D(b,a,d,1)}})}function ba(){$("#searchBtn").click(function(){0===$("#searchString").val().length?$("#advSearchBtnGroup").show():
$("#advSearchBtnGroup").hide();v()});$("#pageSize").multiselect({onChange:function(a,b,e){x=Number($("#pageSize").val());$("#numberPageSelection").bootpag({page:1});p=w=1;v()}});$("#searchString").keypress(function(a){a=a.which||a.keyCode||0;13!==a&&9!==a||v()});$(".input-daterange").datepicker({todayBtn:!0,forceParse:!1,autoclose:!0,format:"yyyy-mm-dd",date:new Date,todayHighlight:!0,endDate:"0d"});$(".hasclear").keyup(function(){var a=$(this);a.next("span").toggle(!!a.val())});$(".hastaclear").keyup(function(){var a=
$(this);a.parent().next("span").toggle(!!a.val())});$(".clearer").hide($(this).prev("input").val());$(".clearerta").hide($(this).prev("input").val());$(".clearer").click(function(){$(this).prev("input").val("").focus();$(this).hide()});$("#searchStringClear").click(function(){$(this).prev("input").val("").focus();$(this).hide();$("#advSearchBtnGroup").show();v()});$(".clearerta").click(function(){$(".typeahead").typeahead("val","");$(this).hide()});$("#gotoTop").click(function(){window.scrollTo(0,
$("#paging").offset().top)});$("#numberPageSelection").bootpag({total:x,page:1,maxVisible:5,leaps:!0,firstLastUse:!0,first:"\u2190",last:"\u2192",wrapClass:"pagination",activeClass:"active",disabledClass:"disabled",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first"}).on("page",function(a,b){p=b;w=(p-1)*x+1;v();$("#PageNo").html(p)});$(".alphaIdx").click(function(a){F($(this).data("value"));v();return!1});$(".lrCats").on("click",function(){q=this.id;w=1;$("#numberPageSelection").bootpag({page:1});
$("#PageNo").html("1");p=1;G();v()});$("#advSearchApplyBtn").on("click",function(){$("#modalSearch").modal("hide");if(""!==A()){var a=$("#searchString");a.val("");a.hide();$("#searchBtn").hide();$("#advSearchString").show()}G();v()});$("#resetAdvSearchBtn").on("click",function(){J()});$("#resetBtn").on("click",function(){J();v()});$("#lrServiceBar").tooltip();$("#maincontent").on("click",".showSM",function(){I("SM",$(this).attr("data-smno"),$(this).attr("data-smid"));return!1});$("#maincontent").on("click",
".showLR",function(){I("LR",$(this).attr("data-lrno"),$(this).attr("data-lrid"));return!1});var b=$("#generatePDF");b.tooltip({html:!0});b.on("click",function(){ca()});$("#generateExcel").on("click",function(){da()})}function ea(){$(".closeall").click(function(){$(".panel-collapse.in").collapse("hide");$(".panel-heading").addClass("collapsed")});$(".openall").click(function(){$('.panel-collapse:not(".in")').collapse("show");$(".panel-heading").removeClass("collapsed")})}function K(){$("#appEnv").hide();
U();aa();ba();G("main");v()}function G(b){$("#numPagination").hide();$("#alphaPagination").hide();if("main"===b){if("undefined"!==typeof Storage&&(b=localStorage.getItem("LobbyistDisclosure")))try{var a=JSON.parse(b);Q(a)}catch(d){}}else w=1,F("A")}function Y(b,a,d){"N"!==d||!$("#numPagination").is(":hidden")&&b===L&&a===M?"A"===d&&$("#alphaPagination").is(":hidden")&&($("#numPagination").hide(),$("#PageStatus").hide(),$("#alphaPagination").show()):(M=a,L=b,$("#numPagination").show(),$("#alphaPagination").hide(),
0<b?($("#numberPageSelection").bootpag({total:b,page:p}),$("#PageStatus").show()):($("#numberPageSelection").bootpag({total:1}),$("#PageStatus").hide()),$("#NoPages").html(b),$("#TotalRows").html(a),$("#PageNo").html(p))}function v(){$("#listLoader").modal("show");var b=u[q].Idx,a=A();""!==a&&"A"===u[q].Idx&&(b="N");r=[];var d=t,e=B+u[q].DataSource.replace("<PGNUM>",p).replace("<MAXRES>",x).replace("<PGALPHA>",d);""!==a&&(e=(e+a).replace("/startWith/"+d,""));-1<a.indexOf("keyword")&&(e=e.replace("disclosure",
"disclosure/search"),e=e.replace("/startWith/"+d,""));Z(e,b)}function fa(){for(var b=u[q].Cols,a=[],d=0;d<b.length;d++)a.push(H[b[d].column].size);return a}function ga(){for(var b=[],a=u[q].Cols,d=0;d<a.length;d++)b.push({text:H[a[d].column].header,style:"tableheader"});return b}function ca(){if(null===r.searchResultVOs)bootbox.alert("There is no data to report.");else{var b={pageSize:"LEGAL",pageOrientation:"landscape",footer:function(a,b){return{columns:[{text:"http://www1.toronto.ca/wps/portal/contentonly?vgnextoid=cf1fb7537e35f310VgnVCM10000071d60f89RCRD",
style:"footertext",margin:15},{text:a.toString()+" of "+b,alignment:"right",style:"footertext",margin:15}]}},header:{columns:[{image:"logo",width:80,margin:[0,20,0,10]},{text:"Office of the Lobbyist Registrar",margin:[0,20,20,10],style:"headertext"}]},pageMargins:[20,70,20,60],styles:{}};b.styles.reporttitle={fontSize:28,bold:!0,alignment:"center",color:"#000000",margin:[0,70,0,20]};b.styles.measuretitle={fontSize:16,bold:!0,alignment:"left",color:"#000000",margin:[0,0,0,10],pageBreak:"before"};b.styles.rpttable=
{margin:[0,0,0,15]};b.styles.reportdate={fontSize:16,bold:!0,alignment:"center"};b.styles.cmo={fontSize:20,bold:!0,alignment:"center"};b.styles.headertext={fontSize:12,color:"#aaa",alignment:"right",width:"50%"};b.styles.tableheader={fontSize:8,color:"#000",alignment:"center",fillColor:"#eeeeee"};b.styles.footertext={color:"#aaa",fontSize:8};b.styles.datasource={fontSize:10,alignment:"left",margin:[0,10,0,10]};b.styles.termsheader={fontSize:12,bold:!0,margin:[50,500,50,0]};b.styles.termstext={fontSize:8,
margin:[50,0,100,0]};b.styles["N/A"]={fillColor:"#eee"};b.styles.tblcol={margin:[0,0,0,0],fontSize:8};b.images={};b.images.logo="data:image/png;base64,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";
b.content=[];b.content.push({text:"Toronto's Lobby Registry",style:"reporttitle"});b.content.push({text:"Office of the Lobbyist Registrar",style:"cmo"});b.content.push({text:"Terms of Use Disclaimer",style:"termsheader"});b.content.push({text:'This portion of the City of Toronto web site is being used for the purpose of disclosure of information contained in the City\'s Lobbyist Registry System (the "System") under Chapter 140, Lobbying, of the City of Toronto Municipal Code. This site is being made available to allow members of the public to readily obtain information regarding the activities of lobbyists involved in lobbying the City of Toronto.',
style:"termstext"});b.content.push({text:"Users of this portion of the City of Toronto web site should be aware of the following:",style:"termstext"});b.content.push({text:"(i) Despite the Lobbyist Registrar's authority to verify and clarify the information submitted to the System, it is the lobbyists' exclusive responsibility to ensure that all submitted information is accurate and correct and the information submitted by lobbyists to the System may be posted as received; and",style:"termstext"});
b.content.push({text:'ii) The City of Toronto provides the System on an "as is", "as available", basis. The City does not make any express or implied warranties, representations or endorsements with respect to the system, including but not limited to, warranties as to usefulness, completeness, accuracy and reliability and the City will not accept any responsibility for data improperly entered. In addition, the City does not represent and warrant that the system will be available or meet your requirements, that access will be uninterrupted, that there will be no delays, failures or errors or omissions or loss of transmitted information, that no viruses or other contaminating or destructive properties will be transmitted or that no damage will occur to your computer system. As a user of the System, you accept sole responsibility for adequate protection and backup of your data, hardware and software and to take reasonable and appropriate precautions against viruses and other contaminating or destructive properties.',
style:"termstext"});var a={style:"rpttable",table:{}};a.table.widths=fa();a.table.headerRows=1;a.table.body=[];a.table.body[0]=[];$.merge(a.table.body[0],ga());b.content.push({text:"Lobbyist Report",style:"measuretitle",pageBreak:"before"});var d=1;$.each(r.searchResultVOs,function(b,c){a.table.body[d]=[];for(var f=0;f<u[q].Cols.length;f++)switch(u[q].Cols[f].column){case "SMLLobbyist":a.table.body[d].push({text:c.lobbyistName||"",style:"tblcol"});break;case "SMLLobbyistNames":a.table.body[d].push({text:c.lobbyistList,
style:"tblcol"});break;case "SMLPOHName":a.table.body[d].push({text:c.pohName||"",style:"tblcol"});break;case "SMLPOHNameTitle":a.table.body[d].push({text:c.pohNameOrTitle||"",style:"tblcol"});break;case "SMLPOHPosition":a.table.body[d].push({text:c.pohPosition||"",style:"tblcol"});break;case "SMLPOHType":a.table.body[d].push({text:c.pohType||"",style:"tblcol"});break;case "SMLFinContributor":a.table.body[d].push({text:c.financialContributor||"",style:"tblcol"});break;case "SMLFinContributors":a.table.body[d].push({text:c.financialContributors.join(", "),
style:"tblcol"});break;case "SMLLobbyistType":a.table.body[d].push({text:c.lobbyistType||"",style:"tblcol"});break;case "SMLBeneficiary":a.table.body[d].push({text:c.beneficiaryName||"",style:"tblcol"});break;case "SMLBeneficiaries":a.table.body[d].push({text:c.beneficiaries.join(", "),style:"tblcol"});break;case "SMLBusOrg":a.table.body[d].push({text:c.businessOrganization||"",style:"tblcol"});break;case "SMLClient":a.table.body[d].push({text:c.client||"",style:"tblcol"});break;case "SMLSubjectMatter":a.table.body[d].push({text:c.subjectMatter||
"",style:"tblcol"});break;case "SMLStatus":a.table.body[d].push({text:c.status||"",style:"tblcol"});break;case "SMLInitFileDate":a.table.body[d].push({text:c.InitialApprovalDate||"",style:"tblcol"});break;case "SMLCommMethod":a.table.body[d].push({text:c.communicationMethod||"",style:"tblcol"});break;case "SMLCommDate":a.table.body[d].push({text:c.communicationDate||"",style:"tblcol"});break;case "SMLRequestMeeting":a.table.body[d].push({text:c.requestMeeting||"",style:"tblcol"});break;case "SMLResultOfMeetingRequest":a.table.body[d].push({text:c.resultOfMeetingRequest||
"",style:"tblcol"});break;case "SMLDateOfRequest":a.table.body[d].push({text:c.dateOfRequest||"",style:"tblcol"});break;case "SMLSubjectMatterNo":a.table.body[d].push({text:c.subjectMatterNumber||"",style:"tblcol"});break;case "SMLLobRegNo":a.table.body[d].push({text:c.lobbyistRegistrationNumber||"",style:"tblcol"})}d++});b.content.push(a);pdfMake.createPdf(b).open()}}function m(b){return'"'+b+'"'}function da(){if(null===r.searchResultVOs)bootbox.alert("There is no data to report.");else{for(var b=
[],a,d=u[q].Cols,e=0;e<d.length;e++)b.push(H[d[e].column].header);a=b.join(",")+"\r\n";$.each(r.searchResultVOs,function(d,c){b=[];for(var e=0;e<u[q].Cols.length;e++)switch(u[q].Cols[e].column){case "SMLLobbyist":b.push(m(c.lobbyistName));break;case "SMLLobbyistNames":b.push(m(c.lobbyistList));break;case "SMLPOHName":b.push(m(c.pohName));break;case "SMLPOHNameTitle":b.push(m(c.pohNameOrTitle));break;case "SMLPOHPosition":b.push(m(c.pohName));break;case "SMLPOHType":b.push(m(c.pohType));break;case "SMLFinContributor":b.push(m(c.financialContributor));
break;case "SMLFinContributors":b.push(m(c.financialContributors.join(", ")));break;case "SMLLobbyistType":b.push(m(c.lobbyistType));break;case "SMLBeneficiary":b.push(m(c.beneficiaryName));break;case "SMLBeneficiaries":b.push(m(c.beneficiaries.join(", ")));break;case "SMLBusOrg":b.push(m(c.businessOrganization));break;case "SMLClient":b.push(m(c.client));break;case "SMLSubjectMatter":b.push(m(c.subjectMatter));break;case "SMLStatus":b.push(m(c.status));break;case "SMLInitFileDate":b.push(m(c.InitialApprovalDate));
break;case "SMLCommMethod":b.push(m(c.communicationMethod));break;case "SMLCommDate":b.push(m(c.communicationDate));break;case "SMLRequestMeeting":b.push(m(c.requestMeeting));break;case "SMLResultOfMeetingRequest":b.push(m(c.resultOfMeetingRequest));break;case "SMLDateOfRequest":b.push(m(c.dateOfRequest));break;case "SMLSubjectMatterNo":b.push(m(c.subjectMatterNumber));break;case "SMLLobRegNo":b.push(m(c.lobbyistRegistrationNumber))}a+=b.join(",")+"\r\n"});d=navigator.userAgent;e=99;1<d.indexOf("MSIE")&&
(e=parseInt(d.substr(d.indexOf("MSIE")+5,5),10));if(10>e)bootbox.alert("You are using an old version of Internet Explorer that does not allow for file export.  Please upgrade to a more up to date browser in order to use this feature.");else{var e=new Blob([a],{type:"text/csv;charset=utf-8"}),c=window.URL||window.webkitURL,d=document.createElementNS("http://www.w3.org/1999/xhtml","a");d.href=c.createObjectURL(e);d.download="LobbyistData.csv";e=document.createEvent("MouseEvents");e.initEvent("click",
!0,!1);d.dispatchEvent(e)}}}function z(b,a,d,e){var c={};c.Line=f(b);c.Line+=f(a)?"<br>"+f(a):"";c.CityProv=f(d);c.PostCty=f(e);c.Addr=f(c.Line);c.Addr+=f(c.CityProv)?"<br>"+f(c.CityProv):"";c.Addr+=f(c.PostCty)?"<br>"+f(c.PostCty):"";return c}function N(b,a,d,e){$("#BackTo").prop("href","/wps/portal/contentonly?vgnextoid="+O);ea();null!==d?$("#headerText").text("Lobbyist Details"):$("#headerText").text("Subject Matter Details");if($.isEmptyObject(b))bootbox.alert("detail record unexpectedly mising");
else{$(".SMIn-house").hide();$(".SMVoluntary").hide();$(".SMConsultant").hide();$(".SM"+b.lobbyistType).show();a="subjectMatterNumber subjectMatterStatus subjectMatterInitialApprovalDate subjectMatterRecentApprovalDate subjectMatter subjectMatterDecisionIssue subjectMatterStartDate lobbyistName lobbyistRegistrationNumber lobbyistRegistrationStatus lobbyistType lobbyistPositionTitle lobbyistRegistrationMostRecentApprovalDate lobbyistPhone lobbyistPrevPubOfficeHolder businessOrganizationName businessOtherTradeName businessType businessFiscalStartDate businessDescription clientName clientOtherTradeName".split(" ");
for(d=0;d<a.length;d++)$("."+a[d]).text(b[a[d]]);b.subjectMatterEndDate&&$(".subjectMatterEndDate").text(" to "+b.subjectMatterEndDate);b.businessFiscalEndDate&&$(".businessFiscalEndDate").text(" to "+b.businessFiscalEndDate);"undefined"!==typeof b.subjectMatterNumber?$("#smRegAccordion").show():$("#smRegAccordion").hide();"undefined"!==typeof b.subjectMatter?$("#smAccordion").show():$("#smAccordion").hide();a=z(b.businessAddress,b.businessAddress2,b.businessCityProvince,b.businessCountryPostalCode);
$(".businessAddress").html(a.Addr);b.lobbyistAddress&&(a=z(b.lobbyistAddress,b.lobbyistAddress2,b.lobbyistCityProvince,b.lobbyistCountryPostalCode),$(".lobbyistAddress").html(a.Addr));b.clientName?(a=z(b.clientAddress,b.clientAddress2,b.clientCityProvince,b.clientCountryPostalCode),$(".clientAddress").html(a.Addr),$("#clientAccordion").show()):$("#clientAccordion").hide();"undefined"!==typeof b.businessOrganizationName?$("#boAccordion").show():$("#boAccordion").hide();ha(b);ia(b);a="";if("undefined"!==
typeof b.financialContributionList&&0<b.financialContributionList.length){d=b.financialContributionList;for(var c=0;c<d.length;c++)a+="<tr><td>"+(c+1)+". "+f(d[c].financialContributor)+"</td>",""!==d[c].contactName&&(a+="<td><b>Contact:</b> "+f(d[c].contactName)+"</td>"),a+="</tr>";$("#PrivateFundingSection").find("tbody").html(a);$("#pfAccordion").show()}else $("#pfAccordion").hide();ja(b);ka(b);la(b);a="";if("undefined"!==typeof b.committeeList&&0<b.committeeList.length){for(d=0;d<b.committeeList.length;d++)if(c=
b.committeeList[d],a+="<tr class='labelRow'><td>"+f(c.committeeName)+"</td></tr>","undefined"!==typeof c.committeeMemberList)for(var h=0;h<c.committeeMemberList.length;h++){var m=c.committeeMemberList[h];0===h&&(a+="<tr class='labelRow'><td class='CommListIndent'>Commitee Members</td></tr>");a+="<tr><td class='CommListIndent'>"+f(m)+"</td></tr>"}$("#CommitteeSection").find("tbody").html(a).trigger("update");$("#committeeAccordion").show()}else $("#committeeAccordion").hide();ma(b);$("#appDisplay").jmHighlight(e,
{separateWordSearch:!0})}}function ha(b){var a="",d=1;"undefined"!==typeof b.inhouseLobbyistList&&0<b.inhouseLobbyistList.length?(a+="<tr><td>&nbsp;</td></tr>",$.each(b.inhouseLobbyistList,function(b,c){var h=z(c.inhouseLobbyistAddress,c.inhouseLobbyist2,c.inhouseLobbyistCityProvince,c.inhouseLobbyistCountryPostalCode);a+="<tr class='labelRow'><td>"+d+". In-house Lobbyist's Name</td>";a+="<td>Lobbyist Registration Number</td>";a+="<td>    Position title</td>";a+="</tr>";a+="<tr><td>"+f(c.inhouseLobbyistName)+
"</td>";a+="<td>"+f(c.inhouseLobbyistRegistrationNumber)+"</td>";a+="<td>"+f(c.inhouseLobbyistPositionTitle)+"</td>";a+="</tr>";a+="<tr class='labelRow'><td>Business Address</td>";a+="<td>Phone</td>";a+="</tr>";a+="<tr><td>"+h.Addr+"</td>";a+="<td>"+f(c.inhouseLobbyistTelephone)+"</td>";a+="</tr>";a+="<tr class='labelRow'>";a+="<td colspan='3' >Has this in-house lobbyist held a senior public office position with the City of Toronto in the past 12 months?</td>";a+="</tr>";a+="<td colspan='2'>"+f(c.inhouseLobbyistPrevPubOfficeHolder)+
"</td>";a+="</tr>";d++}),$("#SMLSection").find("tbody").html(a),$("#smlAccordion").show()):$("#smlAccordion").hide()}function ia(b){var a="",d=1;"undefined"!==typeof b.otherBeneficiaryList&&0<b.otherBeneficiaryList.length?($.each(b.otherBeneficiaryList,function(b,c){var h=z(c.beneficiaryAddress,c.beneficiaryAddress2,c.beneficiaryCityProvince,c.beneficiaryCountryPostalCode);a+="<tr class='labelRow'><td>"+d+". "+c.beneficiaryType+"</td>";a+="<td>Other Trade Names</td>";a+="<td>Address</td>";a+="</tr>";
a+="<tr><td>"+f(c.beneficiaryName)+"</td>";a+="<td>"+f(c.beneficiaryOtherTradeName)+"</td>";a+="<td>"+h.Addr+"</td>";a+="</tr>";d++}),$("#OtherBeneficiariesSection").find("tbody").html(a),$("#othbAccordion").show()):$("#othbAccordion").hide()}function ja(b){var a="";"undefined"!==typeof b.gmtFundingList&&0<b.gmtFundingList.length?($.each(b.gmtFundingList,function(b,e){a+="<tr><td>"+(b+1)+". "+f(e.governmentName)+", "+f(e.departmentProgramName)+"</td></tr>"}),$("#GovernmentFundingSection").find("tbody").html(a),
$("#gfAccordion").show()):$("#gfAccordion").hide()}function ka(b){var a="";"undefined"!==typeof b.grassRootsCommunicationList&&0<b.grassRootsCommunicationList.length?($.each(b.grassRootsCommunicationList,function(b,e){a+="<tr><td>&nbsp;</td></tr>";a+="<tr><td>"+f(e.grassRootCommunity)+"</td>";a+="<td>"+f(e.grassRootTarget)+"</td>";a+="<td>"+f(e.grassRootStartDate)+" to "+f(e.grassRootEndDate)+"</td>";a+="</tr>"}),$("#GrassRootsSection").find("tbody").html(a),$("#grAccordion").show()):$("#grAccordion").hide()}
function ma(b){var a="",d=!1;"undefined"!==typeof b.inhouseLobbyistCommunicationMethodList&&0<b.inhouseLobbyistCommunicationMethodList.length&&($.each(b.inhouseLobbyistCommunicationMethodList,function(b,c){d=!0;a+="<tr><td>&nbsp;</td></tr>";a+="<tr><td colspan='10'><b>"+f(c.inHouseLobbyistNameAndRegistrationNumber)+"</b></td>";a+="</tr>";$.each(c.pohCommunicationMethodList,function(b,c){a+="<tr><td class='col-md-2'>"+f(c.pohType)+"</td>";a+="<td class='col-md-3'>"+f(c.pohNameOrTitle)+"</td>";a+="<td class='col-md-3'>"+
f(c.pohOfficeName)+"</td>";a+="<td class='col-md-2'>"+f(c.communicationDate)+"</td>";a+="<td class='col-md-2'>"+f(c.communicationMethod)+"</td>";a+="</tr>"})}),$("#CommunicationsSection").find("tbody").html(a));"undefined"!==typeof b.pohCommunicationMethodList&&0<b.pohCommunicationMethodList.length&&($.each(b.pohCommunicationMethodList,function(b,c){d=!0;a+="<tr><td class='col-md-2'>"+f(c.pohType)+"</td>";a+="<td class='col-md-3'>"+f(c.pohNameOrTitle)+"</td>";a+="<td class='col-md-3'>"+f(c.pohOfficeName)+
"</td>";a+="<td class='col-md-2'>"+f(c.communicationDate)+"</td>";a+="<td class='col-md-2'>"+f(c.communicationMethod)+"</td>";a+="</tr>"}),$("#CommunicationsSection").find("tbody").html(a));d?$("#pohAccordion").show():$("#pohAccordion").hide()}function la(b){var a=0,d="",e=!1;b.meetingList&&0<b.meetingList.length?($.each(b.meetingList,function(b,h){d+="<tr><td>&nbsp;</td></tr>";d+="<tr class='labelRow'><td>"+f(h.committeeName)+"</td></tr>";d+="<tr><td>Meeting Date "+f(h.meetingDate)+"</td></tr>";
d+="<tr><td>&nbsp;</td></tr>";if("undefined"!==typeof h.attendeeCommitteeMemberList&&h.attendeeCommitteeMemberList){e=!1;var m=h.attendeeCommitteeMemberList;for(a=0;a<m.length;a++)e||(d+="<tr class='labelRow'><td>Commitee Members in Attendance</td></tr>",e=!0),d+="<tr><td class='CommListIndent'>"+f(m[a])+"</td></tr>"}d+="<tr><td>&nbsp;</td></tr>";if("undefined"!==typeof h.attendeeInhouseLobbyistList&&h.attendeeInhouseLobbyistList)for(m=h.attendeeInhouseLobbyistList,e=!1,a=0;a<m.length;a++)e||(d+=
"<tr class='labelRow'><td>In-house Lobbyists in Attendance</td></tr>",e=!0),d+="<tr><td class='CommListIndent'>"+f(m[a])+")</td></tr>";if("undefined"!==typeof h.attendeePOHList&&h.attendeePOHList)for(d+="<tr><td>&nbsp;</td></tr>",d+="<tr class='labelRow'><td>Public Office Holders in Attendance</td></tr>",d+="<tr class='labelRow'><td>Type</td>",d+="<td>Name or Position Title</td>",d+="<td>Ward, Office, Division or Agency</td>",d+="</tr>",m=h.attendeePOHList,a=0;a<m.length;a++)d+="<tr><td>"+f(m[a].pohType)+
"</td>",d+="<td>"+f(m[a].pohNameOrTitle)+"</td>",d+="<td>"+f(m[a].pohOfficeName)+"</td>",d+="</tr>"}),$("#MeetingsSection").find("tbody").html(d),$("#meetAccordion").show()):$("#meetAccordion").hide()}function na(){var b="";0===document.location.hostname.length?(b+='<link rel="stylesheet" href="css/lobbySearch.css"><link rel="stylesheet" href="js/datepicker/datepicker.css">',b+='<link rel="stylesheet" href="static_files/assets/css/bootstrap-multiselect.css">',b+='<link rel="stylesheet" href="/tablesorter/css/theme.blue.css">',
b+='<script type="text/javascript" src="static_files/assets/multiselect/bootstrap-multiselect.js">\x3c/script>',b+='<script type="text/javascript" src="js/datepicker/bootstrap-datepicker.js">\x3c/script>',b+='<script type="text/javascript" src="static_files/assets/datepicker/moment-with-locales.js">\x3c/script>',b+='<script type="text/javascript" src="js/typeahead.bundle.js">\x3c/script>',b+='<script type="text/javascript" src="js/jquery.bootpag.min.js">\x3c/script>',b+='<script type="text/javascript" src="js/placeholders.jquery.js">\x3c/script>',
b+='<script type="text/javascript"  src="js/bootbox.min.js">\x3c/script>',b+='<script type="text/javascript"  src="static_files/assets/pdfmake/pdfmake.min.js">\x3c/script>',b+='<script type="text/javascript"  src="static_files/assets/pdfmake/vfs_fonts.js">\x3c/script>',$("#appCode").html(b),$("#appDisplay").load("html/lobbyListing.html",function(){K()})):(b+='<link rel="stylesheet" href="/datepicker/datepicker.css">',b+='<link rel="stylesheet" href="/static_files/assets/multiselect/bootstrap-multiselect.css">',
b+='<link rel="stylesheet" href="/tablesorter/css/theme.blue.css">',b+='<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">',b+='<link rel="stylesheet" href="/City%20Of%20Toronto/Sandbox/Steve/LobbyRegistry3/css/lobbySearch.css">',b+='<script type="text/javascript" src="/static_files/assets/multiselect/bootstrap-multiselect.js">\x3c/script>',b+='<script type="text/javascript" src="/datepicker/bootstrap-datepicker.js">\x3c/script>',b+='<script type="text/javascript" src="/static_files/assets/datepicker/moment-with-locales.js">\x3c/script>',
b+='<script type="text/javascript" src="/City%20Of%20Toronto/Sandbox/Steve/LobbyRegistry2/js/typeahead.bundle.js">\x3c/script>',b+='<script type="text/javascript" src="/City%20Of%20Toronto/Sandbox/Steve/LobbyRegistry2/js/jquery.bootpag.min.js">\x3c/script>',b+='<script type="text/javascript" src="/static_files/assets/bootbox/bootbox.min.js">\x3c/script>',b+='<script type="text/javascript" src="/static_files/assets/placeholders/jquery.placeholder.min.js">\x3c/script>',b+='<script type="text/javascript"  src="/static_files/assets/pdfmake/pdfmake.min.js">\x3c/script>',
b+='<script type="text/javascript"  src="/static_files/assets/pdfmake/vfs_fonts.js">\x3c/script>',$("#appCode").html(b),$("#appDisplay").load("/City%20Of%20Toronto/Sandbox/Steve/LobbyRegistry3/html/lobbyListing.html",function(){K()}))}function P(b,a,d,e){var c="";0===document.location.hostname.length?(c+='<link rel="stylesheet" href="css/SMDetail.css"><link rel="stylesheet" href="js/datepicker/datepicker.css">',c+='<link rel="stylesheet" href="static_files/assets/css/bootstrap-multiselect.css">',
c+='<link rel="stylesheet" href="/tablesorter/css/theme.blue.css">',c+='<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">',c+='<script type="text/javascript" src="static_files/assets/multiselect/bootstrap-multiselect.js">\x3c/script>',c+='<script type="text/javascript" src="js/datepicker/bootstrap-datepicker.js">\x3c/script>',c+='<script type="text/javascript" src="static_files/assets/datepicker/moment-with-locales.js">\x3c/script>',c+='<script type="text/javascript" src="js/typeahead.bundle.js">\x3c/script>',
c+='<script type="text/javascript" src="js/jquery.bootpag.min.js">\x3c/script>',c+='<script type="text/javascript" src="js/jquery.jmHighlight.min.js">\x3c/script>',c+='<script type="text/javascript"  src="js/bootbox.min.js">\x3c/script>',c+='<script type="text/javascript" src="js/placeholders.jquery.js">\x3c/script>',c+='<script type="text/javascript"  src="static_files/assets/pdfmake/pdfmake.min.js">\x3c/script>',c+='<script type="text/javascript"  src="static_files/assets/pdfmake/vfs_fonts.js">\x3c/script>',
$("#appCode").html(c),$("#appDisplay").load("html/SMDetail.html",function(){N(b,a,d,e)})):(c+='<link rel="stylesheet" href="/datepicker/datepicker.css">',c+='<link rel="stylesheet" href="/static_files/assets/multiselect/bootstrap-multiselect.css">',c+='<link rel="stylesheet" href="/tablesorter/css/theme.blue.css">',c+='<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">',c+='<link rel="stylesheet" href="/City%20Of%20Toronto/Sandbox/Steve/LobbyRegistry3/css/SMDetail.css">',
c+='<script type="text/javascript" src="/static_files/assets/multiselect/bootstrap-multiselect.js">\x3c/script>',c+='<script type="text/javascript" src="/datepicker/bootstrap-datepicker.js">\x3c/script>',c+='<script type="text/javascript" src="/static_files/assets/datepicker/moment-with-locales.js">\x3c/script>',c+='<script type="text/javascript" src="/City%20Of%20Toronto/Sandbox/Steve/LobbyRegistry2/js/typeahead.bundle.js">\x3c/script>',c+='<script type="text/javascript" src="/City%20Of%20Toronto/Sandbox/Steve/LobbyRegistry2/js/jquery.bootpag.min.js">\x3c/script>',
c+='<script type="text/javascript" src="/static_files/assets/highlights/jquery.jmHighlight.min.js">\x3c/script>',c+='<script type="text/javascript" src="/static_files/assets/bootbox/bootbox.min.js">\x3c/script>',c+='<script type="text/javascript" src="/static_files/assets/placeholders/jquery.placeholder.min.js">\x3c/script>',$("#appCode").html(c),$("#appDisplay").load("/City%20Of%20Toronto/Sandbox/Steve/LobbyRegistry3/html/SMDetail.html",function(){N(b,a,d,e)}))}function oa(b,a,d,e){$.support.cors=
!0;b=B+"/LobbyistRegistryRestWeb/disclosure/subjectMatterDetails?callback=?&subjectMatterId=<SMID>".replace("<SMID>",a);$.ajax({type:"GET",url:b,crossDomain:!0,dataType:"json",success:function(b){0===b.length?bootbox.alert("detail record unexpectedly mising"):P(b,a,null,e)},error:function(a,b,d){console.log(a.status);console.log(d);bootbox.alert("detail record unexpectedly mising")}})}function pa(b,a,d){$.support.cors=!0;b=B+"/LobbyistRegistryRestWeb/disclosure/lobbyistDetails?callback=?&lobbyistRegistrationId=<LRID>".replace("<LRID>",
a);$.ajax({type:"GET",url:b,crossDomain:!0,dataType:"json",success:function(b){0===b.length?bootbox.alert("detail record unexpectedly mising"):P(b,null,a,d)},error:function(a,b,d){console.log(a.status);console.log(d);bootbox.alert("detail record unexpectedly mising")}})}var O,B="http://was-inter-qa.toronto.ca",r=[],x=10,p=1,w=1,L=0,M=0,t="A",q="SMRpt",y={},H={SMLLobbyist:{header:"Lobbyist",size:"*"},SMLGovAgency:{header:"Gov Agency",size:"*"},SMLFinContributors:{header:"Financial Contributors",size:"*"},
SMLFinContributor:{header:"Financial Contributor",size:"*"},SMLBeneficiary:{header:"Beneficiary",size:"*"},SMLBeneficiaries:{header:"Beneficiaries",size:"*"},SMLLobbyistType:{header:"Lobbyist Type",size:"*"},SMLBusOrg:{header:"Business/Org",size:"*"},SMLBusOrgClient:{header:"Bus/Org/Client",size:"*"},SMLLobbyistNames:{header:"Lobbyist Name(s)",size:"*"},SMLClient:{header:"Client",size:"*"},SMLPOHOfficeName:{header:"Office",size:"*"},SMLPOHName:{header:"Public Office Holder",size:"*"},SMLPOHNameTitle:{header:"Name or Position",
size:"*"},SMLPOHPosition:{header:"Position",size:"*"},SMLPOHType:{header:"Type",size:"*"},SMLSubjectMatter:{header:"Subject Matter",size:"*"},SMLStatus:{header:"Status",size:"*"},SMLInitFileDate:{header:"Init Filing Date",size:"*"},SMLSubjectMatterNo:{header:"Subject Matter No",size:"*"},SMLLobRegNo:{header:"Lobbyist Reg No.",size:"*"},SMLCommDate:{header:"Comm. Date",size:"*"},SMLCommMethod:{header:"Comm. Method",size:"*"},SMLRequestMeeting:{header:"Req. Meeting?",size:"*"},SMLResultOfMeetingRequest:{header:"Result of Req.",
size:"*"},SMLDateOfRequest:{header:"Date of Req.",size:"*"}},u={SMRpt:{Idx:"N",DataSource:"/LobbyistRegistryRestWeb/disclosure/1?callback=?&pageNum=<PGNUM>&maxResults=<MAXRES>",Cols:[{column:"SMLLobbyistNames",cls:"",style:"width: 265px;white-space: normal;",label:"Lobbyist Name(s)",title:"Lobbyist Name(s)"},{column:"SMLBusOrg",cls:"",style:"width: 265px;white-space: normal;",label:"Business/Org",title:"Business&#47;Organization"},{column:"SMLSubjectMatter",cls:"",style:"width: 345px;white-space: normal;",
label:"Subject Matter",title:"Subject Matter"},{column:"SMLStatus",cls:"",style:"width: 70px",label:"Status",title:"Subject Matter Registration  Status"},{column:"SMLSubjectMatterNo",cls:"",style:"width: 90px;white-space: normal;",label:"Subject Matter No.",title:"Subject Matter Registration No."}]},LobbyRpt:{Idx:"A",DataSource:"/LobbyistRegistryRestWeb/disclosure/startWith/<PGALPHA>/2?callback=?&pageNum=<PGNUM>&maxResults=<MAXRES>",Cols:[{column:"SMLLobbyist",cls:"",style:"width: 150px;white-space: normal;",
label:"Lobbyist Name",title:"Lobbyist Name"},{column:"SMLLobbyistType",cls:"",style:"width: 82px;white-space: normal;",label:"Lobbyist Type",title:"Lobbyist Type"},{column:"SMLBusOrg",cls:"",style:"width: 185px;white-space: normal;",label:"Business/Org",title:"Business&#47;Organization"},{column:"SMLClient",cls:"",style:"width: 185px;white-space: normal;",label:"Client",title:"Client"},{column:"SMLSubjectMatter",cls:"",style:"width: 205px;white-space: normal;",label:"Subject Matter",title:"Subject Matter"},
{column:"SMLLobRegNo",cls:"",style:"width: 95px;",label:"Lobbyist<br />Reg No.",title:"Lobbyist Registration No."},{column:"SMLSubjectMatterNo",cls:"",style:"width: 95px;white-space: normal;",label:"Subject Matter No.",title:"Subject Matter Registration No."}]},POHNameRpt:{Idx:"N",DataSource:"/LobbyistRegistryRestWeb/disclosure/3?callback=?&pageNum=<PGNUM>&maxResults=<MAXRES>",Cols:[{column:"SMLPOHNameTitle",cls:"",style:"width: 150px;",label:"Name or Position",title:"Public Office Holder Name"},
{column:"SMLPOHType",cls:"",style:"width: 240px;",label:"Type",title:"Public Office Holder Type"},{column:"SMLSubjectMatter",cls:"",style:"width: 230px;white-space: normal;",label:"Subject Matter",title:"Subject Matter"},{column:"SMLLobbyistNames",cls:"",style:"width: 230px;white-space: normal;",label:"Lobbyist Name(s)",title:"Lobbyist Name(s)"},{column:"SMLStatus",cls:"",style:"width: 70px;",label:"Status",title:"Subject Matter Registration Status"},{column:"SMLSubjectMatterNo",cls:"",style:"width: 95px;white-space: normal;",
label:"Subject Matter No.",title:"Subject Matter Registration No."}]},POHCommRpt:{Idx:"N",DataSource:"/LobbyistRegistryRestWeb/disclosure/4?callback=?&pageNum=<PGNUM>&maxResults=<MAXRES>",Cols:[{column:"SMLPOHNameTitle",cls:"",style:"width: 95px;white-space: normal;",label:"Name or Position",title:"Public Office Holder Name &#47; Position"},{column:"SMLPOHType",cls:"",style:"width: 95px;;white-space: normal;",label:"Type",title:"Public Office Holder Type"},{column:"SMLSubjectMatter",cls:"",style:"width: 95px;;white-space: normal;",
label:"Subject Matter",title:"Subject Matter"},{column:"SMLLobbyist",cls:"",style:"width: 95px;white-space: normal;",label:"Lobbyist",title:"Lobbyist"},{column:"SMLCommDate",cls:"",style:"width: 95px;white-space: normal;",label:"Comm Date",title:"Comm. Date"},{column:"SMLCommMethod",cls:"",style:"width: 95px;white-space: normal;",label:"Method",title:"Method"},{column:"SMLRequestMeeting",cls:"",style:"width: 95px;white-space: normal;",label:"Request a Meeting",title:"Request a Meeting"},{column:"SMLResultOfMeetingRequest",
cls:"",style:"width: 95px;white-space: normal;",label:"Result of Request",title:"Result of Meeting Request. &#13;Only applies to Consultant/Voluntary"},{column:"SMLDateOfRequest",cls:"",style:"width: 95px;white-space: normal;",label:"Date of Request",title:"Date of Request. &#13;Only applies to Consultant/Voluntary"},{column:"SMLSubjectMatterNo",cls:"",style:"width: 95px;white-space: normal;",label:"Subject Matter No.",title:"Subject Matter Registration No."}]},BenRpt:{Idx:"A",DataSource:"/LobbyistRegistryRestWeb/disclosure/startWith/<PGALPHA>/5?callback=?&pageNum=<PGNUM>&maxResults=<MAXRES>",
Cols:[{column:"SMLBeneficiary",cls:"",style:"width: 150px;white-space: normal;",label:"Beneficiary",title:"Beneficiary"},{column:"SMLBusOrg",cls:"",style:"width: 150px;white-space: normal;",label:"Business/Org",title:"Business&#47;Organization"},{column:"SMLClient",cls:"",style:"width: 150px;white-space: normal;",label:"Client",title:"Client"},{column:"SMLLobbyistNames",cls:"",style:"width: 210px;white-space: normal;",label:"Lobbyist Name(s)",title:"Lobbyist Name(s)"},{column:"SMLLobbyistType",cls:"",
style:"width: 95px;white-space: normal;",label:"Lobbyist Type",title:"Lobbyist Type"},{column:"SMLFinContributors",cls:"",style:"width: 150px;white-space: normal;",label:"Financial Contributors",title:"Financial Contributors"},{column:"SMLSubjectMatterNo",cls:"",style:"width: 95px;white-space: normal;",label:"Subject Matter No.",title:"Subject Matter Registration No."}]},BusOrgClientRpt:{Idx:"A",DataSource:"/LobbyistRegistryRestWeb/disclosure/startWith/<PGALPHA>/6?callback=?&pageNum=<PGNUM>&maxResults=<MAXRES>",
Cols:[{column:"SMLBusOrg",cls:"",style:"width: 150px;white-space: normal;",label:"Business/Org",title:"Business&#47;Organization"},{column:"SMLClient",cls:"",style:"width: 150px;white-space: normal;",label:"Client",title:"Client"},{column:"SMLLobbyistNames",cls:"",style:"width: 200px;white-space: normal;",label:"Lobbyist Name(s)",title:"Lobbyist Name(s)"},{column:"SMLLobbyistType",cls:"",style:"width: 95px;white-space: normal;",label:"Lobbyist Type",title:"Lobbyist Type"},{column:"SMLBeneficiaries",
cls:"",style:"width: 190px;white-space: normal;",label:"Beneficiaries",title:"Beneficiaries"},{column:"SMLFinContributors",cls:"",style:"width: 110px;white-space: normal;",label:"Financial Contributors",title:"Financial Contributors"},{column:"SMLSubjectMatterNo",cls:"",style:"width: 95px;white-space: normal;",label:"Subject Matter No.",title:"Subject Matter Registration No."}]},FinRpt:{Idx:"A",DataSource:"/LobbyistRegistryRestWeb/disclosure/startWith/<PGALPHA>/7?callback=?&pageNum=<PGNUM>&maxResults=<MAXRES>",
Cols:[{column:"SMLFinContributor",cls:"",style:"width: 175px;white-space: normal;",label:"Financial Contributor",title:"Financial Contributor"},{column:"SMLBusOrg",cls:"",style:"width: 160px;white-space: normal;",label:"Business/Org",title:"Business&#47;Organization"},{column:"SMLClient",cls:"",style:"width: 140px;white-space: normal;",label:"Client",title:"Client"},{column:"SMLLobbyistNames",cls:"",style:"width: 175px;white-space: normal;",label:"Lobbyist Name(s)",title:"Lobbyist Name(s)"},{column:"SMLLobbyistType",
cls:"",style:"width: 95px;white-space: normal;",label:"Lobbyist Type",title:"Lobbyist Type"},{column:"SMLBeneficiaries",cls:"",style:"width: 110px;white-space: normal;",label:"Beneficiaries",title:"Beneficiaries"},{column:"SMLStatus",cls:"",style:"width: 65px;",label:"Status",title:"Subject Matter Registration Status"},{column:"SMLSubjectMatterNo",cls:"",style:"width: 95px;white-space: normal;",label:"Subject Matter No.",title:"Subject Matter Registration No."}]}},T={"&":"&amp;","<":"&lt;",">":"&gt;",
'"':"&quot;","'":"&#39;","/":"&#x2F;"};(function(b){var a;a=window.location.search.substr(1).split("&");if(""===a)a={};else{for(var d={},e=0;e<a.length;++e){var c=a[e].split("=");2==c.length&&(d[c[0]]=decodeURIComponent(c[1].replace(/\+/g," ")))}a=d}b.QueryString=a})(jQuery);$(document).ready(function(){var b=$.QueryString.SM,a=$.QueryString.SMId,d=$.QueryString.LRId,e=$.QueryString.searchStr;O=$.QueryString.vgnextoid;d?pa(b,d,e):b?oa(b,a,null,e):($("#listLoader").modal("show"),na())})})();
