(function(k,Ha){function H(a,b){var c=$("#wait-loader");a?(c.show(),c.find("span").text(b)):c.hide()}function I(a,b){var c=1;"-"===b[0]&&(c=-1,b=b.substr(1));return function(d,f){var e=0,e=""!==a?d[a][b]<f[a][b]?-1:d[a][b]>f[a][b]?1:0:d[b]<f[b]?-1:d[b]>f[b]?1:0;return e*c}}function x(a){var b="";$(a).prop("options")&&$(a).prop("selectedOptions")&&$(a).prop("options").length===$(a).prop("selectedOptions").length?b="ALL":null!==$(a).val()&&$.each($(a).val(),function(a,d){b+=0<a?",":"";b+=d});return b}
function P(a){var b="";$(a).prop("options")&&$(a).prop("selectedOptions")&&$(a).prop("options").length===$(a).prop("selectedOptions").length?b="ALL":null!==$(a).val()&&$.each($(a).prop("selectedOptions"),function(a,d){b+=0<a?",":"";b+=d.label});return b}function Z(a){var b="";l(a)&&($.each(a.split(","),function(a,d){p[d]?b+=p[d].desc+", ":console.log("Topic Not found:"+d)}),b=b.slice(0,-2));return b}function aa(a,b){if("ALL"===a)return!0;if("undefined"===typeof b)return!1;var c=!1;0<a.length&&-1<
a.toLowerCase().indexOf(b.toLowerCase())&&(c=!0);return c}function ba(a,b,c){if("ALL"===a)return!0;if("undefined"===typeof b||""===b)return!1;b=b.split(c);var d=!1;$.each(b,function(b,c){d=aa(a,c.trim());if(!0===d)return!1});return d}function na(){Object.keys(r).forEach(function(a,b,c){r[a].setVisible(!1)})}function l(a){return!("undefined"===typeof a||""===a)}function Q(){for(var a={},b=k.location.search.substr(1).split("&"),c=0;c<b.length;c++)if(""!==b[c]){var d=b[c].split("=");2==d.length&&(a[d[0]]=
decodeURIComponent(d[1].replace(/\+/g," ")))}return a}function R(a){var b="";Object.keys(a).forEach(function(c,d,f){b+=""===b?"?":"&";b+=c+"="+a[c]});return b}function ca(a,b){var c=[];"string"===typeof a?c.push(a):c=a;var d=Q();$.each(c,function(a,b){delete d[b]});c=R(d);b&&(c=k.location.protocol+"//"+k.location.host+k.location.pathname+c,history.pushState&&history.pushState({},"ignored title",c))}function da(a){""===S&&$(a+" option").each(function(){var a=$('input[value="'+$(this).val()+'"]');a.prop("disabled",
!1);a.parent("li").addClass("disabled")});S=""}function oa(a,b){S="onChange";var c=$(a+" option:selected");$(a+" option").length===c.length+1?($(a).multiselect("deselectAll",!1),da(a)):c.length>=b?$(a+" option").filter(function(){return!$(this).is(":selected")}).each(function(){var a=$('input[value="'+$(this).val()+'"]');a.prop("disabled",!0);a.parent("li").addClass("disabled")}):$(a+" option").each(function(){var a=$('input[value="'+$(this).val()+'"]');a.prop("disabled",!1);a.parent("li").addClass("disabled")})}
function ea(a,b){return"<span class='orgLink'><a href='' data-id = '"+a+"'  >"+b+"</a><span>"}function fa(a){var b=Q();b.orgId=a;b=R(b);b=k.location.protocol+"//"+k.location.host+k.location.pathname+b;history.pushState&&history.pushState({},"ignored title",b);pa(a);$("#detailModal").modal("show");$("#mainSection").hide()}function qa(a){var b=null,c="https://drive.google.com/uc?id="+a;(function(a){b=$.ajax({type:"GET",url:c,crossDomain:!0,jsonpCallback:"odetCallBack",dataType:"jsonp",success:function(a){},
error:function(a,b,d){console.log(a.status);console.log(d)}})})(a);return b}function ga(a){var b="",c=100;1<C[a.lat+a.lng]?(b=m.multi,c=200):(b=m.single,c=10);n[a.fid]&&(b=m.fav,c=300);var d;r[a.fid]?(r[a.fid].setIcon(b),r[a.fid].setZIndex(c)):(d=new google.maps.LatLng(a.lat,a.lng),b=new google.maps.Marker({position:d,map:h,orgId:a.fid,icon:b,zIndex:c,title:a.nme}),r[a.fid]=b,D.addMarker(b));r[a.fid].setVisible(!0);return d}function ra(){na();var a=0;$.each(u,function(b,c){l(c.lat)&&l(c.lng)?ga(c):
a++});0<a?($(".noLatLngTotal").text(a),$(".noLatLngTot").show()):$(".noLatLngTot").hide()}function sa(){var a={},b=$("#topicFilter"),c=b.prop("selectedOptions");Object.keys(p).forEach(function(b,c,e){a[b]={totalOptions:""===p[b].parent?p[b].options:1,cnt:0,parent:p[b].parent}});0<c.length&&$.each(b.val(),function(b,c){var e=p[c];l(e.parent)&&(e=p[e.parent],l(e.parent)&&(e=p[e.parent]));a[e.topicId].cnt+=1});Object.keys(a).forEach(function(b,c,e){c=$("input[type=checkbox][value="+b+"]");""===a[b].parent&&
(a[b].cnt===a[b].totalOptions?(c.first().prop("checked",!0),c.first().closest("li").addClass("active")):(c.first().prop("checked",!1),c.first().closest("li").removeClass("active")))})}function ta(a){a=a.sort(I("","sortOrder"));var b=[];b.push({text:"Select All",topicId:"Select All"});var c=$("#topicFilter");$.each(a,function(a,f){var e={};if(""===f.parent){e.text=f.desc;e.topicId=f.topicId;e.tooltip=f.tooltip;e.showSearchInput=!1;c.append('<optgroup label="'+f.desc+'"   value="'+f.topicId+'"></optgroup>');
c.append('<option  selected="selected" class="optGroupOption" value="'+f.topicId+'">'+f.desc+"</option>");if(l(f.children)){e.nodes=[];for(var g=f.children.sort(I("","sortOrder")),k=0;k<g.length;k++){var h=g[k];""!==h.parent&&(g[k].options=0);var y={};y.text=h.desc;y.topicId=h.topicId;y.tooltip=h.tooltip;c.append('<option  selected="selected" value="'+h.topicId+'">'+h.desc+"</option>");if(l(h.children)){y.nodes=[];for(var h=h.children.sort(I("","sortOrder")),m=0;m<h.length;m++){var E=h[m],n={};n.text=
E.desc;n.topicId=E.topicId;n.tooltip=E.tooltip;y.nodes.push(n);c.append('<option selected="selected" value="'+E.topicId+'">&nbsp;&nbsp;&nbsp;&nbsp;'+E.desc+"</option>")}}e.nodes.push(y)}}b.push(e)}""!==f.parent&&(f.options=1);""===f.parent&&(f.options+=1);p[f.topicId]=f});ha=b;c.multiselect({includeSelectAllOption:!0,numberDisplayed:1,enableClickableOptGroups:!0,enableCollapsibleOptGroups:!0,onChange:function(a,b,c){a.val();T++;if(""===J||T===J.options)q(),J="",F()},onSelectAll:function(){K||q()}});
$(".multiselect-container li a").on("click",function(){""!==$(this).children().val()&&(J=p[$(this).children().val()],T=0)});l(k.$.QueryString.topic)&&(a=k.$.QueryString.topic.split(","),c.val(a),c.multiselect("refresh"));$(".multiselect-container li").not(".filter, .group").tooltip({placement:"left",container:"body",title:function(){var a=$(this).find("input").val();if(a&&-1===a.indexOf("all")){if(p[a]&&p[a].tooltip)return p[a].tooltip}else return""}});$.each(ha,function(a,b){"undefined"===typeof b.nodes&&
$('input[type=checkbox][value="'+b.topicId+'"').first().next().children().last().removeClass("caret")})}function ua(){$.support.cors=!0;$.ajax({type:"GET",url:"https://drive.google.com/uc?id=0B-j2Y49nfiw2MnBjWHBqcDR4eW8",jsonpCallback:"TopxCallBack",contentType:"application/json",dataType:"jsonp",success:function(a){ta(a)},error:function(a,b,c){console.log(a.status);console.log(c)}})}function va(){ua();var a;$("#langFilter").multiselect({includeSelectAllOption:!0,onChange:function(a,c,d){oa("#langFilter",
5);q()},onSelectAll:function(){da("#langFilter");K||q()}});l(k.$.QueryString.lang)&&(a=k.$.QueryString.lang.split(","),$("select#langFilter").val(a),$("select#langFilter").multiselect("refresh"));$("#accFilter").multiselect({includeSelectAllOption:!0,onChange:function(a,c,d){q()},onSelectAll:function(){K||q()}});l(k.$.QueryString.accs)&&(a=k.$.QueryString.accs.split(","),$("select#accFilter").val(a),$("select#accFilter").multiselect("refresh"));l(k.$.QueryString.favs)?(a=k.$.QueryString.favs.split(","),
$.each(a,function(a,c){n[+c]=!0})):wa();a=$("#searchString");l(k.$.QueryString.srchstr)?(a.val(k.$.QueryString.srchstr),a.next("span").css("display","block")):a.next("span").css("display","none")}function ia(a){U=a;z.close();"tabMap"===a?($("#ysMap").show(),$("#tabMap").parent().addClass("active"),$("#ysListing").hide(),$("#tabList").parent().removeClass("active"),a=h.getZoom(),h.setZoom(a)):($("#ysMap").hide(),$("#tabMap").parent().removeClass("active"),$("#ysListing").show(),$("#tabList").parent().addClass("active"))}
function L(a,b,c){a='<div data-id="'+a+'" data-loc="'+b+'"';return c?a+' class="btn btn-sm addtofavs rem-fav" title="Remove from favourites"><span aria-hidden="true" class="glyphicon glyphicon-star"></span> Remove</div>':a+' class="btn btn-sm addtofavs" title="Add to favourites"><span aria-hidden="true" class="glyphicon glyphicon-star"></span> Add</div>'}function ja(a,b){var c=a.attr("data-id"),d=a.attr("data-loc"),f=$("#ysListing [data-fid='"+c+"']");if(a.hasClass("rem-fav"))a.removeClass("rem-fav"),
a.attr("title","Add to favourites"),delete n[c],a.html('<span class="glyphicon glyphicon-star" aria-hidden="true"></span> Add'),0<f.length&&f.prop("src",m.single);else{if(5<=Object.keys(n).length&&"syncList"!==b)return bootbox.alert("You may only add up to 5 favourite locations.");n[c]=!0;a.addClass("rem-fav");a.attr("title","Remove from favourites");a.html('<span class="glyphicon glyphicon-star" aria-hidden="true"></span> Remove');0<f.length&&f.prop("src",m.fav)}ga(M[c]);"infw"===d&&(c=$("#ysListing [data-id='"+
c+"']"),0<c.length&&ja(c,"syncList"));"undefined"!==typeof Storage&&localStorage.setItem("YouthServiceFavs",JSON.stringify(n));F()}function xa(){$("#searchBtn").on("click",function(){q()});$("#searchString").on("keypress",function(a){a=a.which||a.keyCode||0;13!==a&&9!==a||q()});$(".hasclear").keyup(function(){var a=$(this);a.next("span").toggle(!!a.val())});$(".clearer").click(function(){$(this).prev("input").val("").focus();$(this).hide();q()});$("#maincontent").on("click","div.addtofavs",function(){ja($(this))});
$("#toggleShowFavs").on("click",function(){z.close();N=!N;q();-1<$(this).html().indexOf("Favourites")?$(this).html('<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>&nbsp;&nbsp;Show Locations'):$(this).html('<span class="glyphicon glyphicon-star" aria-hidden="true"></span>&nbsp;&nbsp;Show Only Favourites')});$("#filterBlockToggle").on("click",function(){var a=$("#iconFB"),b=$("#filterBlock");"none"==b.css("display")?(b.css("display","block"),a.removeClass("glyphicon-chevron-down").attr("title",
"expand"),a.addClass("glyphicon-chevron-up").attr("title","collapse")):(b.css("display","none"),a.removeClass("glyphicon-chevron-up").attr("title","collapse"),a.addClass("glyphicon-chevron-down").attr("title","expand"))});$("#pdfbtn").on("click",function(){var a=navigator.userAgent,b=99;1<a.indexOf("MSIE")&&(b=parseInt(a.substr(a.indexOf("MSIE")+5,5)));11>b?bootbox.alert("Your browser does not support this feature."):ya()});$("#detailModal").on("hidden.bs.modal",function(){var a=$("#detailModal").find("#org-fid").text();
ca("orgId",!0);F();$("#mainSection").show();0===A.length&&V("detail");$("body").removeClass("modal-open");"tabList"===U&&$("#ys_"+a).find("span").get(0).scrollIntoView();return!1});$("#maincontent").on("click","span.orgLink a",function(){fa($(this).attr("data-id"));return!1});$("#maincontent").on("click",".listingMarker",function(){var a=$(this).attr("data-fid");r[a]&&(ka(r[a]),h.setZoom(15),ia("tabMap"),h.setCenter(r[a].getPosition()),a=$("#tabToggle"),a.find(".btn").toggleClass("active"),a.find(".btn").toggleClass("btn-primary"),
a.find(".btn").toggleClass("btn-default"))});$("#BackTo").on("click",function(){ca("orgId",!0);F();$("#detailSection").hide();$("#mainSection").show();0===A.length&&V("detail")});$(".btn-toggle").on("click",function(){$(this).find(".btn").toggleClass("active");0<$(this).find(".btn-primary").size()&&$(this).find(".btn").toggleClass("btn-primary");0<$(this).find(".btn-danger").size()&&$(this).find(".btn").toggleClass("btn-danger");0<$(this).find(".btn-success").size()&&$(this).find(".btn").toggleClass("btn-success");
0<$(this).find(".btn-info").size()&&$(this).find(".btn").toggleClass("btn-info");$(this).find(".btn").toggleClass("btn-default");ia($(this).find(".btn.active").prop("id"))});$("#findMe").on("click",function(){if("geolocation"in navigator){var a;navigator.geolocation.getCurrentPosition(function(b){a=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);h.setCenter(a);h.setZoom(18);G&&G.setMap(null);G=new google.maps.Marker({position:a,map:h,icon:m.findMe,zIndex:0,title:"My Location"})},function(){bootbox.alert({size:"small",
message:"Location Services is unavailable."})})}else bootbox.alert({size:"small",message:"Location Services is unavailable."})});$("#ttcBtn").on("click",function(a){a=$(".modal-body").find("#org-address").text();k.open("http://www.ttc.ca/Trip_planner/index.jsp?EndDetail="+a,"_blank")});$(k).scroll(function(){if("tabList"===U){var a=document.getElementById("wrap").offsetHeight;k.pageYOffset+k.innerHeight>=a&&w<u.length&&W()}})}function ka(a){""!==t&&t.setMap(null);t=new google.maps.Marker({position:a.getPosition(),
map:h,orgId:a.orgId,icon:{url:m.selected,anchor:new google.maps.Point(32,32)},zIndex:0,title:a.title})}function la(){O.forEach(function(a){a.setMap(null)});O=[]}function za(){$("#img_multi").attr("src",m.multi);$("#img_single").attr("src",m.single);$("#img_fav").attr("src",m.fav);h=new google.maps.Map(document.getElementById("map-canvas"),{center:X,zoom:11,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DEFAULT,position:google.maps.ControlPosition.TOP_RIGHT},
zoomControl:!0});var a=document.getElementById("resetMap");a.onclick=function(){h.setZoom(11);h.setCenter(X);z.close();t&&t.setMap(null);G&&G.setMap(null);la();$("#map-input").val("")};h.controls[google.maps.ControlPosition.RIGHT_TOP].push(a);D=new OverlappingMarkerSpiderfier(h,{keepSpiderfied:!0,legWeight:3,markersWontMove:!0,markersWontHide:!0,nearbyDistance:1});a=document.getElementById("findMe");h.controls[google.maps.ControlPosition.LEFT_TOP].push(a);var a=document.getElementById("map-input"),
b=new google.maps.places.SearchBox(a);h.controls[google.maps.ControlPosition.TOP_LEFT].push(a);h.addListener("bounds_changed",function(){b.setBounds(h.getBounds())});O=[];b.addListener("places_changed",function(){var a=b.getPlaces();if(0!==a.length){la();var d=new google.maps.LatLngBounds;a.forEach(function(a){var b={url:a.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};O.push(new google.maps.Marker({map:h,
icon:b,title:a.name,position:a.geometry.location}));a.geometry.viewport?d.union(a.geometry.viewport):d.extend(a.geometry.location)});h.fitBounds(d);h.setZoom(14)}});D.addListener("click",function(a,b){var f=a.position,e=M[a.orgId];z.close();var g;g="<div class='content infoDiv'><div class='row infoRow'><div class='col-md-10'>";g+="<div class='row infoRow'><div class='infoHeaderRow col-md-12'>"+ea(e.gid,e.nme)+"</div></div>";g+="<div class='row infoRow'><div class='col-md-12'>"+e.adr+"</div></div>";
g+="<div class='row infoRow'><div class='col-md-12'>"+e.ph;e.web&&""!==e.web&&(g+=" | <a target='_blank' href='http://"+e.web+"'>"+e.web+"</a>");g+="</div></div>";g+="<div class='row infoRow'><div class='col-md-12'>&nbsp;</div></div>";if(l(e.tps)){var k=Z(e.tps);g+="<div class='row infoRow'><div class='col-md-12'><span class='infoLabel'>Topics: </span>"+k+"</div></div>"}g=l(e.ens)?g+("<div class='row infoRow'><div class='col-md-12'><span class='infoLabel'>Eligibility: </span>"+e.ens.replace("*","<br>")+
"</div></div>"):g+"<div class='row infoRow'><div class='col-md-12'><span class='infoLabel'>&nbsp;</span></div></div>";g+="</div>";g+="<div class='col-md-2'>";g+="<div class='row'><div class='col-xs-12 col-sm-12 col-md-12'>";g=n[e.fid]?g+L(e.fid,"infw",!0):g+L(e.fid,"infw",!1);g+="</div></div>";g+="<div class='row'><div class='col-md-12'>&nbsp;</div></div>";v[e.acc]&&(g+="<div class='row'>",g+="<div class='col-md-12'><img src='"+v[e.acc].img+"' title='"+v[e.acc].title+"' alt='"+v[e.acc].title+"'/></div>",
g+="</div>");g+="</div>";g+="</div>";g+="</div>";z.setOptions({position:f,content:g});z.open(h);t&&t.setMap(null)});D.addListener("spiderfy",function(a){if(1<a.length&&14>h.getZoom())return ka(a[0]),h.setCenter(a[0].getPosition()),h.setZoom(h.getZoom()+2),!1;for(var b=0;b<a.length;b++)if(B=[],a[b].getIcon()===m.multi||a[b].getIcon()===m.selected)a[b].setIcon(m.single),B.push(a[b])});D.addListener("unspiderfy",function(a){null!==t.getMap()&&t.setPosition(a[0].getPosition());for(var b=0;b<a.length;b++){for(var f=
0;f<B.length;f++)B[f].setIcon(m.multi);0<B.length&&(t.setMap(null),B=[])}});"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(a){a=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);h.setCenter(a);h.setZoom(11)},function(){})}function Aa(a){var b=x($("#topicFilter")),c=x($("#langFilter")),d=x($("#accFilter")),f=$("#searchString").val();""!==f?a.srchstr=f:delete a.srchstr;"ALL"!==b?a.topic=b:delete a.topic;"ALL"!==c?a.lang=c:delete a.lang;"ALL"!==d?a.accs=d:delete a.accs;
var e=[];Object.keys(n).forEach(function(a,b,c){e.push(a)});0<e.length?a.favs=e.join(","):delete a.favs;return a}function F(){var a=Q(),a=Aa(a),a=R(a),a=k.location.protocol+"//"+k.location.host+k.location.pathname+a;history.pushState&&history.pushState({},"ignored title",a)}function wa(){if("undefined"!==typeof Storage){var a=localStorage.getItem("YouthServiceFavs");if(a)try{n=JSON.parse(a)}catch(b){}}}function Ba(){u=[];C={};var a=x($("#topicFilter")),b=x($("#accFilter")),c=x($("#langFilter"));$.each(A,
function(d,f){var e=!0;N?e=n[f.fid]:(e&&(e=ba(a,f.tps,",")),e&&(e=aa(b,f.acc)),e&&(e=ba(c,f.sls,";")),e&&-1===JSON.stringify(f).toLowerCase().indexOf($("#searchString").val().toLowerCase())&&(e=!1));e&&(u.push(f),e=f.lat+f.lng,C[e]=C[e]?C[e]+1:1)});$(".countTotal").text(u.length)}function q(){Ba();ra();$("#ysListingRows").html("").trigger("update");w=0;W();$("#loader").hide();F();K=!1;setTimeout(sa,500)}function Ca(a){A=a.sort(I("","nme"));$.each(A,function(a,c){M[c.fid]=c});q();H(!1)}function Da(){$("#loader").show();
$.support.cors=!0;var a=navigator.userAgent;1<a.indexOf("MSIE")&&parseInt(a.substr(a.indexOf("MSIE")+5,5));$.ajax({type:"GET",url:"https://drive.google.com/uc?id=0B-j2Y49nfiw2bjZqOGgtcmJZbGs",jsonpCallback:"srchCallBack",contentType:"application/json",dataType:"jsonp",success:function(a){Ca(a)},error:function(a,c,d){console.log(a.status);console.log(d)}})}function W(){var a="",b=w+ma;$.each(u,function(c,d){if(!(c<w)){if(w>b)return!1;0===w&&(a+="<div id='ys__"+d.fid+"'class='ystablerow'>&nbsp;</div>");
w++;var f=n[d.fid]?m.fav:m.listingMarker,e="";l(d.lat)&&(e="<span>&nbsp;&nbsp;&nbsp;<img title='Click to see location on main map' data-fid='"+d.fid+"' class='listingMarker' src='"+f+"'></img><span>");a+="<div id='ys_"+d.fid+"' class='ystablerow'>";a+="<div class='row'><div class='col-xs-9 col-sm-9 col-md-10'>";a+="<div class='row'><div class='col-md-12'>"+ea(d.gid,d.nme)+e+"</div></div>";l(d.adr)&&(a+="<div class='row'><div class='col-md-12'>"+d.adr+"</div></div>");if(l(d.ph)||l(d.web))a+="<div class='row'><div class='col-md-12'>",
f="",l(d.ph)&&(f=d.ph),l(d.web)&&(f=f+(""!==f?" | ":"")+("<a target='_blank' href='http://"+d.web+"'>"+d.web+"</a>")),a+=f+"</div></div>";a+="<div class='row'><div class='col-xs-9 col-sm-9 col-md-10'>&nbsp;</div></div>";f=Z(d.tps);""!==f&&(a+="<div class='row'><div class='col-md-12'><span class='detailLabel'>Topic: </span>"+f+"</div></div>");"undefined"!==typeof d.ens&&(a+="<div class='row'><div class='col-md-12'><span class='detailLabel'>Eligibility: </span>"+d.ens+"</div></div>");"undefined"!==
typeof d.sls&&(a+="<div class='row'><div class='col-md-12'><span class='detailLabel'>Languages: </span>"+d.sls+"</div></div>");a+="</div>";a+="<div class='col-xs-3 col-sm-3 col-md-2'>";a+="<div class='row'><div class='col-xs-12 col-sm-12 col-md-12' style='padding-left: 0px; padding-right: 0px;'>";a=n[d.fid]?a+L(d.fid,"list",!0):a+L(d.fid,"list",!1);a+="</div></div>";a+="<div class='row'><div class='col-md-12'>&nbsp;</div></div>";a+="<div class='row'><div class='col-md-12'>";v[d.acc]&&(a+="<img src='"+
v[d.acc].img+"' title='"+v[d.acc].title+"' alt='"+v[d.acc].title+"'/>");a+="</div></div>";a+="</div>";a+="</div>";a+="</div>"}});0===w&&(a+="<div id=ysNoRows class='ystablerow'>No Rows Selected</div>");$("#ysListingRows").append(a)}function V(a){H(!0);var b=k.$.QueryString.orgId;"undefined"===typeof b||"detail"===a?0===A.length&&(va(),za(),Da()):fa(b)}function Ea(){H(!1)}function ya(){if(200<u.length)bootbox.alert({size:"small",message:"Please limit the number of organizations to report to no more than 200 by using the filters and/or the favourites functionality."});
else if(0===u.length)bootbox.alert({size:"small",message:"Please ensure some organizations are shown before producing a pdf."});else{H(!0,"Generating PDF. Please be patient.");var a={pageSize:"LETTER",footer:function(a,b){return{columns:[{image:"two11",width:80,margin:[10,15,0,10]},{text:"This information comes from www.211Ontario.ca, a project of Findhelp Information Services.",width:400,margin:[20,20,0,10],style:"footertext"},{text:a.toString()+" of "+b,alignment:"right",style:"footertext",margin:15}]}},
header:{columns:[{image:"logo",width:80,margin:[0,20,0,10]},{text:"Youth Services",margin:[0,20,20,10],style:"headertext"}]},pageMargins:[20,70,20,60],styles:{}};a.styles.listingtitle={fontSize:16,bold:!0,alignment:"left",color:"#000000",margin:[0,0,0,10],pageBreak:"before"};a.styles.orgListing={margin:[0,5,20,2],fontSize:12};a.styles.orgRows={margin:[0,0,0,15]};a.styles.headertext={fontSize:12,color:"#aaa",alignment:"right",width:"50%"};a.styles.sctableheader={fontSize:8,color:"#000",alignment:"center",
fillColor:"#eeeeee"};a.styles.footertext={color:"#aaa",fontSize:8};a.styles.tableheader={fontSize:10,bold:!0,fillColor:"#eeeeee"};a.styles.tblcol={margin:[0,0,0,2],fontSize:8};a.styles.tblcol1={margin:[0,0,20,2],fontSize:16,fillColor:"#eeeeee"};a.images={};a.images.logo="data:image/png;base64,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";
a.images.two11="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAAAgCAMAAAD3wGCZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGBQTFRF7BcNpqamEhAR8VZQ5+fn+87NlZWV/fz8T09QeXl5+bKw29vb9o6LyMjI/eXk7+/v/vf37zkw+sG/9HRvYmFi+KKg/Nzctra2RENEKCgpOTg5/uzr+Pn59fX1/vHx////xwsRzAAABEZJREFUeNrEmImSqyoQhgWRRURcUAS393/L243Lyclk7qmpmsmQqmgU4ePvH7CT7e8pYqvHoii6ohjrufmkUvYGkGbshj5v2yyVts37qiy234BpxrJvT4o2zy+mNq8+8vwwTNMlEhBj6CBA9QilK6s8EfVD/U6YhNL2w/gkgqi7KgecfNjeBbNViDKML/0q5g71yYv3wBQ5omz/M8MQpx0Enhpv7A/CdDDuvv7HhB+gUgXKacK52TOhDRb25c6stumotfiEpR2aq6o5Kwummb0PWA3kq4RIMGtmHQ1Qov8qjDkeWZ1bX9wdc2A5TlfvYogy1bYuRrLv7DicFbNhZ8QTUIZNAU54CPqrMDQ1t8rpBUzTYxdH8TSVgDQsUMrvw2EtkHAEqUBggHHHE3BTc+WXnXkLhjLLvhoANJzA92KYJgwGyaEC+o0bE04YxzDeizEQLuv1FaT+si6hQTmgQQXtdMDAgVzgJdSFJuHpzE5SnDA+hIm6xQQOtUEpA4PhGEOyMylD1EzSGKTeF0VDjAeMcHgK5y5q7NifwrTd1RmHJxpF6cQSRXiGaSCi4zG17TSBf30MmgVpAUrtoJWh0KoK0DjH7rSNVLHVJUIHV5XQ09Hv4uAJK4P20PziQpoJY5vl1+oiGF7iIcH8USbcMDtMqeGCQQNjRDk1aaCrCisJUe3SCehEM1BtCU4AoYJZAP3JaFHL1NwiJ4sG4itUYUFdURr+NhEog7deKYOuqS6Y6MHJQK2ShxVlPhinlNTBA6mcJARkxV48DfhLmog2uzzjHLhIw30VAPuYlF32BKPjYWB7UPytTJ1MgzCngfcLBga+RCWJn1RkNiKp98wGJTA6+MuwCDLdMFIiDFqOejcda07xDAPCpG5eGRhnd38pg40drkfmAKZ3NGrwhDs9oKVOMAblEVzt6B2IKjk9k374fZmmwJ+Ev2Z3oDFNsz9helCmu8PEbhgrKScSjUOoxE44Dn+CNUiuDGFgfMrjZRMiUfQ28MRVwHFzei1WdZ7l8x8W7PuI30tlqqwtD5hV8Ws5ZyoEafDEQU3vsGUDU1rp3Sp8duER4HCkU5BEmQRDuIpB4cKn6RVxUWXZPbVxJaATIRwWolfKIPn4YtdePy6mwj5eW+xBLtbHDWk5tCXBP0yQ/N4kCSy/uAaD014pU90x/b5dm0E4lwfps775aztIMCx+2A5gAb5C+n0wepoetrcNNqdzQ/BSOfw4IvYVDiAfHszNci/W3wezsPVp2z5fZ9ZmaaCsKZiiSd9Ls4j7hab8+Te9EbTJS/HPOm35jtfOucIMoGg+rVBXTy/BP5od4Gtc1pf1K3m2Ir2uV/PbUpVtQJwWEsjHlFZs45GptP341oxyHq4srhrKDkpZVmcOBznl23PtrRjO/PahQHbbzeI3Ev+9qYuh6jHRhk/eQ6o7buKX/oU4jNI0c13X8zw3n073/wQYACw0uq8pyY1QAAAAAElFTkSuQmCC";
a.images.fullAcc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUFDMkM3QTlERUM5MTFFNEI2MERDMTlCM0ZDODlDNEIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUFDMkM3QUFERUM5MTFFNEI2MERDMTlCM0ZDODlDNEIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQUMyQzdBN0RFQzkxMUU0QjYwREMxOUIzRkM4OUM0QiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQUMyQzdBOERFQzkxMUU0QjYwREMxOUIzRkM4OUM0QiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnKh6rUAAAJHSURBVHjatFUxa1pRFD6JVhRRxEEiHUpAEXVQwepiN10UsjrpICJ0KYLiGkHwB1REdBKngOhQ6FDEmnRRIaNBUDejDlZIFEFr8PTeS/pI2zz1lebA9zjcd/ju975z37lHAPCGIEfwluAHAcK/xTHBK4ImwXu68PWR7H/iMyWe7Spyu93ocrmEEk8p8ZivIBQK4a/w+XxCiMfUly2faSaTict1Op0QvxnnLd/OCoUCy+UyXlxcoFgsFqL49njXtmq1GrRaLRiNxt/UHxq8iqPRKOdxMpkUpFi8a8f5fM7lZrMZ7HY7yGQyWCwW0Ol04OHhQbjiYDCI6XQa7+/v8c8YDAYolUqFK06lUpBIJCAej8NyuQSlUgnX19eQyWRAIpEA2YwpX61Whyu2Wq1MVSQSQb1ez6mczWbYbrex2Wxit9vFm5sbVsun+C/iQqGAo9GI5SqVCvv9PvJFo9E43AqDwQCtVovld3d34PF4wOl0cu9pw7bbLYTDYfB6vUB6AaVSab8VV1dXWKlU9h4pasNms8HxeIwWiwUdDgcS//mtyOfzOJlMdpKenp5iNpvFXC7H2TKdTlGj0fAT22w2VkhOBC9xtVplRCcnJ6yZw+EQiS0oEon4iSnOz88ZOf3z5HI5t06J6BfR8Pv9XIOf1jwlfnZsxmIxRtDr9bBWq2G9XmfK1us1np2d7R2bR4+DXv1cV+nwCQQC7FcmjYLLy0soFotAbNg3f77Tx5cXuJo+UcWvCT4SvKPHdNfgP+AyFRF8I/jwU4ABABFYIvc7qJgVAAAAAElFTkSuQmCC";
a.images.partAcc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUJCN0Q4OUFEQ0JFMTFFNDgzNUZBODM4NzRCQ0M4NjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUJCN0Q4OUJEQ0JFMTFFNDgzNUZBODM4NzRCQ0M4NjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQkI3RDg5OERDQkUxMUU0ODM1RkE4Mzg3NEJDQzg2NCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQkI3RDg5OURDQkUxMUU0ODM1RkE4Mzg3NEJDQzg2NCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgzlaBYAAAQPSURBVHjajFVdTJtlFD7fX38YtCNggmTUgs1cDOIPi5uJEkxWEM0cXTS7GkY02t0YFnDGC9FWCmYyjDNxRjqWmF2IHTcrCIUEEvaTYb2Y4WamAUwcoqUZiRX6+33H875dKx0/9SQnfd/znT7v+53znOcTQJRKRUkakCWpBRGBLA2bTBAE0CguQEGTyTXyK+QfCjqD0ZeMx14jCFAMBoAMeBYVUvFYbivKCkgS+z8WOuQrqf2tt7857mg1Tk9Pg5ZOg6wo/An7q5pMQGPji/D1hQtQVl4OPweDdHsNRFEsBFwBnV3vr1AJsLOzi2GhKMuoMxQhlYjeX8T5+XnMWv3BgzyH3hIVvWE3XxL/jkZVdkR//+dw5swH/NbJ+AbhSqwSMDs7C6qqwq25n2B5eZnVBxALliIN7zhP3cVN9lF3N2YqIfDfKosFr12/jk7nKb6XFF2h2zIPbQFm1t398X1wwLP9/ZhKpTASiWBt7RMZcJ0eZfLdgLftgsv1Cbjdn/K1paoKZFmGsrIy2Fe1j8dYU9Pku9m2wJqmwZ1f70CJyQSxjY1c3O12gd/vh6mpKWp6Fwdnuf8buPmlFlhcWISxsR9B1f5rVMmeEkhRc1lIUzXeRA4sCNtOS559OzgIN2/egLV794gp/fBXeDX37PYvt+HqVT/sLS0lLgv8AoGJcVAJWCIW5dnm5tHp+Ex9PZ4bOIcLC4u8Ue86nbiT/bO+jo/X1m7H7VDejZeWliC8GoHWY61wcegijwUCAfCPjoLNZgM1rfKpS1BtzVT/mpoa+GJgAJqbmoj7sfsjL20tRTgcBoVGmolOKBTisd/osFePHoXy8ocgraY5CdNUZ7ZmjWyy2+H1EyfANzxMw5XKDNaDwOa9ZkjSbUjpOM2Y0XjzSYxEVvNKqC/aA4HJSWhsaICzfZ/Bc4cPU04Eej0ekHWGfFbYHrWBqbgYZmZmoK3tDR5joIreSAcYSf2MudwhajIDc/d4wFpthdMdHWA0GrKiCFsmz+Vyoclk5uvevr7cBG72N9vb+fNWx3G+93g82NzyMl/LmZHfOtLRaBQtj1jxyBE734+PT6DD4cC6uifRbrfjoHeQx3sITJaVnIZwl2RUMuwIwXsdp/98kEakYmi1WvGxAwfwB58PY/EY/rGyghuxOAaDQaJkRj7HRsd4/neXL+fAs7IJxxyOyE4cPXmyDS2kbtbqaqx76mm07d+PlZWV+OyhQ3hrbi4v3+v10hvIWU4vMIHxfnn+/I5DkEwkcHJyCi8NXcKRkRH8ffnujrnfDw+jTq9DUZJ7BPpKFANqvc+/0PBKRcXDQjKVVDPfJvYBEaGEWGI2mznxmTasr6/D2toaaYjKRT9rRUVGJZVMJcYnxn3xWNz9rwADAJyR120mRn7MAAAAAElFTkSuQmCC";
a.content=[];var b={style:"orgRows",table:{}};b.table.widths=["*"];b.table.headerRows=0;b.table.layout={defaultBorder:!1};b.table.body=[];b.table.body[0]=[];a.content.push({text:"List of Organizations",style:"listingtitle"});var c=0;$.each(u,function(a,d){var e=M[d.fid];b.table.body[c]=[];var f="<div><p><b>"+e.nme+"</b></p><p>"+e.adr+"</p>",g="";l(e.ph)&&(g=e.ph);l(e.web)&&0<g.length&&(g+=" | <a href='"+e.web+"'>"+e.web+"</a>");l(e.web)&&0===g.length&&(g=e.web);f+="<p>"+g+"</p><br>";l(e.sls)&&(f+=
"<p>Service Language: "+e.sls+"</p>");l(e.ens)&&(f+="<p>Eligibility: "+e.ens+"</p>");var g=[],h="";"F"===e.acc&&(h="fullAcc");"P"===e.acc&&(h="partAcc");pdfMakeHTMLConverter.ParseHtml(g,f+"</div>");e=[];e.push(g);""!==h&&e.push({image:h,width:20,alignment:"right",border:[!1,!0,!0,!0]});g[0].border=[!1,!0,!0,!0];b.table.body[c].push({columns:e,style:"orgListing"});c++});a.content.push(b);var d="Selection Criteria: ",f=P($("#topicFilter")),e=P($("#accFilter")),g=P($("#langFilter"));N?d+="favourited organizations":
(d=d+("Topics - "+f+"; ")+("Languages - "+g+"; "),d+="Accessibility - "+e);a.content.push({text:d,style:"footertext"});a.content.push({text:"Link to selection on City of Toronto's Youth Services website",link:k.location,decoration:"underline",style:"footertext"});pdfMake.createPdf(a).download("YouthServices.pdf",Ea)}}function Fa(){var a="",b="";0===document.location.hostname.length||"localhost"===document.location.hostname?(m={single:"images/single.png",fav:"images/favourite.png",multi:"images/multi.png",
selected:"images/centre.png",nolatlng:"images/marker_dot_multi.png",listingMarker:"images/single.png",foundMarker:"images/marker_sel_small.png",findMe:"images/marker_sel.png"},v={F:{img:"images/fullyaccessibleicon.png",title:"Fully Accessible"},P:{img:"images/partiallyaccessibleicon.png",title:"Partially Accessible"}},a+='<link rel="stylesheet" href="css/youthServices.css"><link rel="stylesheet" href="static_files/assets/css/bootstrap-multiselect.css">',a+='<script type="text/javascript"  src="js/pdfmake.min.js">\x3c/script>',
a+='<script type="text/javascript"  src="static_files/assets/pdfmake/pdfmake-master/pdfmake-master/build/vfs_fonts.js">\x3c/script>',a+='<script type="text/javascript"  src="js/pdfmakeHTMLConverter.min.js">\x3c/script>',a+='<script type="text/javascript"  src="js/bootbox.min.js">\x3c/script>',b="html/YouthServices.html"):(a+='<link rel="stylesheet" href="/static_files/WebApps/Youth Services/css/youthServices.css">',a+='<link rel="stylesheet" href="/static_files/assets/multiselect/bootstrap-multiselect.css">',
a+='<script type="text/javascript" src="/static_files/assets/multiselect/bootstrap-multiselect.js">\x3c/script>',a+='<script type="text/javascript" src="/static_files/WebApps/Youth%20Services/js/pdfmake.min.js">\x3c/script>',a+='<script type="text/javascript" src="/static_files/assets/pdfmake/vfs_fonts.js">\x3c/script>',a+='<script type="text/javascript" src="/static_files/WebApps/Youth%20Services/js/pdfmakeHTMLConverter.min.js">\x3c/script>',a+='<script type="text/javascript" src="/static_files/assets/placeholders/placeholders.jquery.min.js">\x3c/script>',
a+='<script type="text/javascript" src="/static_files/assets/bootbox/bootbox.min.js">\x3c/script>',a+='<script type="text/javascript" src="/static_files/assets/oms/oms.min.js">\x3c/script>',b="/static_files/WebApps/Youth%20Services/html/YouthServices.html");$("#appCode").html(a);$("#appDisplay").load(b,function(){V("main");xa()})}function Ga(a){if(a.latitude&&a.longitude){Y=new google.maps.Map(document.getElementById("detail-map-canvas"),{center:X,zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,
mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:!0});var b=new google.maps.LatLng(a.latitude,a.longitude);new google.maps.Marker({position:b,map:Y,orgId:a.fid,icon:"http://maps.google.com/mapfiles/ms/icons/green.png",title:a.nme});Y.setCenter(b)}else $("#detailMap").hide()}function pa(a){a=qa(a);$.when(a).done(function(a,c,d){$("#headerText").text(a.orgName);Object.keys(a).forEach(function(c,e,d){e="#org-"+c;$(e).html(a[c]);
$(e+"-span").show()});$("#org-email").attr("href","mailto:"+a.email);$("#org-web").attr("href","http://"+a.web);$("#org-services").html(a.services.replace(/\*/g,"<br>*"));$("#211Link").attr("href","http://www.211toronto.ca/detail/en/"+a.fid);Ga(a)})}var X=new google.maps.LatLng(43.717954,-79.369173),ma=10,K=!0,N=!1,w=0,M={},A=[],u=[],C={},S,U="",p={},J="",T=0,ha=[],h,Y,D,n={},r={},O=[],B={},t="",G="",z=new google.maps.InfoWindow,m={single:"/static_files/WebApps/images/single.png",fav:"/static_files/WebApps/images/favourite.png",
multi:"/static_files/WebApps/images/multi.png",selected:"/static_files/WebApps/images/centre.png",nolatlng:"/static_files/WebApps/images/marker_dot_multi.png",listingMarker:"/static_files/WebApps/images/single.png",foundMarker:"/static_files/WebApps/images/marker_sel_small.png",findMe:"/static_files/WebApps/images/marker_sel.png"},v={F:{img:"/static_files/WebApps/images/fullyaccessibleicon.png",title:"Fully Accessible"},P:{img:"/static_files/WebApps/images/partiallyaccessibleicon.png",title:"Partially Accessible"}};
(function(a){var b;b=k.location.search.substr(1).split("&");if(""===b)b={};else{for(var c={},d=0;d<b.length;++d){var f=b[d].split("=");2==f.length&&(c[f[0]]=decodeURIComponent(f[1].replace(/\+/g," ")))}b=c}a.QueryString=b})(jQuery);(function(){var a=function(){ma=1E4;W()};k.matchMedia&&k.matchMedia("print").addListener(function(b){b.matches&&a()});k.onbeforeprint=a;k.onafterprint=function(){}})();$(document).ready(function(){Fa()})})(this);
