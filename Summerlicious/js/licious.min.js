var controlUI;(function(b){var a;a=window.location.search.substr(1).split("&");if(""==a)a={};else{for(var c={},d=0;d<a.length;++d){var e=a[d].split("=");2==e.length&&(c[e[0]]=decodeURIComponent(e[1].replace(/\+/g," ")))}a=c}b.QueryString=a})(jQuery);
function createInfoBox(b){var a=b.lunchprice;""==b.lunchprice&&(a=b.dinnerprice);""!=b.lunchprice&&""!=b.dinnerprice&&(a=b.lunchprice+" | "+b.dinnerprice);var c=document.createElement("div");c.id="mapinfoboxdata";c.className="map addText";c.innerHTML="<div class='mapclose'><a href='javascript:mapClose();'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></div>";c.innerHTML+="<div class='titleText'><font style='font-weight:bold;'>"+b.name+"</div>";c.innerHTML+="<div class='map sumText'>"+b.addsummary+"</br>"+b.phone+
"<br /><br />";"restaurant"==b.type?(c.innerHTML+=b.cuisine+"<br/>"+a+"<br/>",c.innerHTML+="<a title='More information' href='/wps/portal/contentonly?vgnextoid=4b3d0ed14079d410VgnVCM10000071d60f89RCRD&key="+b.unid+"'>More Information</a></div>"):(c.innerHTML+=""==b.adultprice?"":"Adults: "+b.adultprice+"<br/>",c.innerHTML+=""==b.kidprice?"":"Kids: "+b.kidprice+"<br/>",c.innerHTML+="<a title='More information' href='/wps/portal/contentonly?vgnextoid=87fc3b35b23f0510VgnVCM10000071d60f89RCRD&key="+b.unid+
"'>More Information</a></div>");controlUI.innerHTML=c.outerHTML;if(0<arrMarkers.length){for(a=0;a<arrMarkers.length;a++)$("#mapmarker"+a+"row").removeClass("highlight"),"restaurant"==arrMarkers[a].type?(arrMarkers[a].setIcon("/static_files/WebApps/images/markergreen.png"),arrMarkers[a].setZIndex(2E8)):(arrMarkers[a].setIcon("/static_files/WebApps/images/markerblue.png"),arrMarkers[a].setZIndex(200000001));$("#"+b.id+"row").addClass("highlight")}b.setAnimation(google.maps.Animation.BOUNCE);setTimeout(function(){b.setAnimation(null)},
750);"restaurant"==b.type?b.setIcon("/static_files/WebApps/images/markergreen_sel.png"):b.setIcon("/static_files/WebApps/images/markerblue_sel.png");b.setZIndex(288000001);b.getPosition()}
function resetMap(){mapClose();var b=$.QueryString.key;if(null!=b)map.setZoom(14);else{var a=new google.maps.LatLngBounds(new google.maps.LatLng(43.589344,-79.631653),new google.maps.LatLng(43.809756,-79.232025));map.fitBounds(a);map.setZoom(11)}for(a=0;a<arrMarkers.length;a++)"restaurant"==arrMarkers[a].type?(arrMarkers[a].setIcon("/static_files/WebApps/images/markergreen.png"),arrMarkers[a].setZIndex(276E6)):(arrMarkers[a].setIcon("/static_files/WebApps/images/markerblue.png"),arrMarkers[a].setZIndex(277E6)),
arrMarkers[a].unid==b&&(map.setCenter(arrMarkers[a].position),arrMarkers[a].setZIndex(277000001),arrMarkers[a].setIcon("/static_files/WebApps/images/markergreen_sel.png"))}function mapClose(){$("#mapinfoboxdata").remove()}String.prototype.replaceAll=function(b,a,c){return this.replace(new RegExp(b.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),c?"gi":"g"),"string"==typeof a?a.replace(/\$/g,"$$$$"):a)};
